{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{L2cj:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"SettingsModule\",(function(){return settings_module_SettingsModule}));var fesm2015_forms=__webpack_require__(\"3Pt+\"),common=__webpack_require__(\"ofXK\"),material_module=__webpack_require__(\"5dmV\"),router=__webpack_require__(\"tyNb\"),service_index=__webpack_require__(\"vWu4\"),sweetalert2_all=__webpack_require__(\"PSD3\"),sweetalert2_all_default=__webpack_require__.n(sweetalert2_all),http_service=__webpack_require__(\"DF6g\"),environment=__webpack_require__(\"AytR\"),url_join=__webpack_require__(\"T/ZZ\"),url_join_default=__webpack_require__.n(url_join),core=__webpack_require__(\"fXoL\"),fesm2015_http=__webpack_require__(\"tk/3\");let setting_service_SettingService=(()=>{class SettingService extends http_service.a{constructor(http){super(http),this.http=http,this.url=url_join_default()(environment.a.apiUrl,\"/api/setting\")}}return SettingService.ɵfac=function(t){return new(t||SettingService)(core.ac(fesm2015_http.b))},SettingService.ɵprov=core.Mb({token:SettingService,factory:SettingService.ɵfac}),SettingService})();var Subscription=__webpack_require__(\"quSY\"),card=__webpack_require__(\"Wp6s\"),icon=__webpack_require__(\"NFeN\"),form_field=__webpack_require__(\"kmnG\"),input=__webpack_require__(\"qFsG\");const routes=[{path:\"\",component:(()=>{class SettingsComponent{constructor(_settingService){this._settingService=_settingService,this.settingsSubscription=new Subscription.a}ngOnInit(){this.form=new fesm2015_forms.g({id:new fesm2015_forms.d(null),phone:new fesm2015_forms.d(null,fesm2015_forms.u.required),address:new fesm2015_forms.d(null,fesm2015_forms.u.required),email:new fesm2015_forms.d(null,[fesm2015_forms.u.required,fesm2015_forms.u.email]),facebook:new fesm2015_forms.d(null,fesm2015_forms.u.required),twitter:new fesm2015_forms.d(null,fesm2015_forms.u.required)}),this.populateForm()}ngOnDestroy(){this.settingsSubscription&&this.settingsSubscription.unsubscribe()}onSubmit(){this.form.valid&&this._settingService.update(this.form.value).subscribe(role=>{sweetalert2_all_default.a.fire({title:\"Ajustes\",text:\"Los datos han sido guardados :)\",icon:\"success\",timer:1500})},err=>{sweetalert2_all_default.a.fire({title:\"Ajustes\",text:err||\"Ha habido un error y no se pudo guardar\",icon:\"error\",timer:3e3})})}populateForm(){this.settingsSubscription=this._settingService.getAll().subscribe(res=>{this.form.setValue(res[0])},err=>{sweetalert2_all_default.a.fire({title:\"Ajustes\",text:err||\"Ha habido un error y no se pudo guardar\",icon:\"error\",timer:3e3})})}}return SettingsComponent.ɵfac=function(t){return new(t||SettingsComponent)(core.Qb(setting_service_SettingService))},SettingsComponent.ɵcmp=core.Kb({type:SettingsComponent,selectors:[[\"app-settings\"]],decls:51,vars:2,consts:[[1,\"row\"],[1,\"col-lg-9\",\"col-md-12\"],[1,\"card\",\"box\",\"box-info\"],[1,\"col-6\"],[1,\"m-2\"],[1,\"bg-info\",\"text-white\",\"p-2\",\"mb-2\"],[\"mat-card-avatar\",\"\",1,\"p-3\"],[\"aria-hidden\",\"false\",1,\"icon-2x\"],[1,\"text-white\"],[1,\"m-3\",3,\"formGroup\",\"ngSubmit\"],[\"type\",\"hidden\",\"formControlName\",\"id\"],[1,\"col-12\"],[\"formControlName\",\"phone\",\"matInput\",\"\",\"placeholder\",\"Teléfono\",\"required\",\"\"],[\"formControlName\",\"email\",\"matInput\",\"\",\"placeholder\",\"Email\",\"required\",\"\"],[\"formControlName\",\"address\",\"matInput\",\"\",\"placeholder\",\"Dirección\",\"required\",\"\"],[\"formControlName\",\"facebook\",\"matInput\",\"\",\"placeholder\",\"Facebook\",\"required\",\"\"],[\"formControlName\",\"twitter\",\"matInput\",\"\",\"placeholder\",\"Twitter\",\"required\",\"\"],[1,\"d-flex\",\"justify-content-end\"],[\"color\",\"primary\",\"type\",\"submit\",1,\"btn\",\"btn-info\",\"waves-effect\",\"waves-light\",\"d-none\",\"d-sm-inline-flex\",3,\"disabled\"]],template:function(rf,ctx){1&rf&&(core.Wb(0,\"div\",0),core.Wb(1,\"div\",1),core.Wb(2,\"div\",2),core.Wb(3,\"div\",3),core.Wb(4,\"mat-card\",4),core.Wb(5,\"mat-card-header\",5),core.Wb(6,\"div\",6),core.Wb(7,\"mat-icon\",7),core.Gc(8,\"home\"),core.Vb(),core.Vb(),core.Wb(9,\"mat-card-title\"),core.Gc(10,\"Generales\"),core.Vb(),core.Wb(11,\"mat-card-subtitle\",8),core.Gc(12,\"Ajustes de la página inicial\"),core.Vb(),core.Vb(),core.Wb(13,\"mat-card-content\"),core.Wb(14,\"form\",9),core.ec(\"ngSubmit\",(function(){return ctx.onSubmit()})),core.Rb(15,\"input\",10),core.Wb(16,\"div\",0),core.Wb(17,\"div\",11),core.Wb(18,\"mat-form-field\"),core.Rb(19,\"input\",12),core.Wb(20,\"mat-error\"),core.Gc(21,\"requerido\"),core.Vb(),core.Vb(),core.Vb(),core.Vb(),core.Wb(22,\"div\",0),core.Wb(23,\"div\",11),core.Wb(24,\"mat-form-field\"),core.Rb(25,\"input\",13),core.Wb(26,\"mat-error\"),core.Gc(27,\"requerido\"),core.Vb(),core.Vb(),core.Vb(),core.Vb(),core.Wb(28,\"div\",0),core.Wb(29,\"div\",11),core.Wb(30,\"mat-form-field\"),core.Rb(31,\"input\",14),core.Wb(32,\"mat-error\"),core.Gc(33,\"requerido\"),core.Vb(),core.Vb(),core.Vb(),core.Vb(),core.Wb(34,\"div\",0),core.Wb(35,\"div\",11),core.Wb(36,\"mat-form-field\"),core.Rb(37,\"input\",15),core.Wb(38,\"mat-error\"),core.Gc(39,\"requerido\"),core.Vb(),core.Vb(),core.Vb(),core.Vb(),core.Wb(40,\"div\",0),core.Wb(41,\"div\",11),core.Wb(42,\"mat-form-field\"),core.Rb(43,\"input\",16),core.Wb(44,\"mat-error\"),core.Gc(45,\"requerido\"),core.Vb(),core.Vb(),core.Vb(),core.Vb(),core.Wb(46,\"div\",17),core.Wb(47,\"button\",18),core.Wb(48,\"mat-icon\"),core.Gc(49,\"save\"),core.Vb(),core.Gc(50,\" Guardar \"),core.Vb(),core.Vb(),core.Vb(),core.Vb(),core.Vb(),core.Vb(),core.Vb(),core.Vb(),core.Vb()),2&rf&&(core.Db(14),core.qc(\"formGroup\",ctx.form),core.Db(33),core.qc(\"disabled\",ctx.form.invalid))},directives:[card.a,card.d,card.b,icon.a,card.g,card.f,card.c,fesm2015_forms.v,fesm2015_forms.o,fesm2015_forms.h,fesm2015_forms.c,fesm2015_forms.n,fesm2015_forms.f,form_field.c,input.b,fesm2015_forms.t,form_field.b],styles:[\"\"]}),SettingsComponent})(),canActivateChild:[service_index.j],data:{titulo:\"Ajustes Generales\"}}];let settings_routing_module_SettingsRoutingModule=(()=>{class SettingsRoutingModule{}return SettingsRoutingModule.ɵmod=core.Ob({type:SettingsRoutingModule}),SettingsRoutingModule.ɵinj=core.Nb({factory:function(t){return new(t||SettingsRoutingModule)},imports:[[router.g.forChild(routes)],router.g]}),SettingsRoutingModule})();var components_module=__webpack_require__(\"j1ZV\");let settings_module_SettingsModule=(()=>{class SettingsModule{}return SettingsModule.ɵmod=core.Ob({type:SettingsModule}),SettingsModule.ɵinj=core.Nb({factory:function(t){return new(t||SettingsModule)},providers:[setting_service_SettingService],imports:[[common.c,components_module.a,material_module.a,fesm2015_forms.i,fesm2015_forms.s,settings_routing_module_SettingsRoutingModule]]}),SettingsModule})()}}]);","extractedComments":[]}