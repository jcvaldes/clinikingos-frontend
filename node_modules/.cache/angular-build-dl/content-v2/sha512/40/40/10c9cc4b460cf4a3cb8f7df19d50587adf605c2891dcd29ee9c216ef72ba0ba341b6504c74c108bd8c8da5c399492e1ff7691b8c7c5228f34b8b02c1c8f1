(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{L2cj:function(e,t,r){"use strict";r.r(t),r.d(t,"SettingsModule",(function(){return S}));var i=r("3Pt+"),o=r("ofXK"),n=r("5dmV"),a=r("tyNb"),b=r("vWu4"),s=r("PSD3"),d=r.n(s),u=r("DF6g"),c=r("AytR"),l=r("T/ZZ"),m=r.n(l),p=r("fXoL"),f=r("tk/3");let V=(()=>{class e extends u.a{constructor(e){super(e),this.http=e,this.url=m()(c.a.apiUrl,"/api/setting")}}return e.\u0275fac=function(t){return new(t||e)(p.ac(f.b))},e.\u0275prov=p.Mb({token:e,factory:e.\u0275fac}),e})();var h=r("quSY"),W=r("Wp6s"),v=r("NFeN"),g=r("kmnG"),w=r("qFsG");const q=[{path:"",component:(()=>{class e{constructor(e){this._settingService=e,this.settingsSubscription=new h.a}ngOnInit(){this.form=new i.g({id:new i.d(null),phone:new i.d(null,i.u.required),address:new i.d(null,i.u.required),email:new i.d(null,[i.u.required,i.u.email]),facebook:new i.d(null,i.u.required),twitter:new i.d(null,i.u.required)}),this.populateForm()}ngOnDestroy(){this.settingsSubscription&&this.settingsSubscription.unsubscribe()}onSubmit(){this.form.valid&&this._settingService.update(this.form.value).subscribe(e=>{d.a.fire({title:"Ajustes",text:"Los datos han sido guardados :)",icon:"success",timer:1500})},e=>{d.a.fire({title:"Ajustes",text:e||"Ha habido un error y no se pudo guardar",icon:"error",timer:3e3})})}populateForm(){this.settingsSubscription=this._settingService.getAll().subscribe(e=>{this.form.setValue(e[0])},e=>{d.a.fire({title:"Ajustes",text:e||"Ha habido un error y no se pudo guardar",icon:"error",timer:3e3})})}}return e.\u0275fac=function(t){return new(t||e)(p.Qb(V))},e.\u0275cmp=p.Kb({type:e,selectors:[["app-settings"]],decls:51,vars:2,consts:[[1,"row"],[1,"col-lg-9","col-md-12"],[1,"card","box","box-info"],[1,"col-6"],[1,"m-2"],[1,"bg-info","text-white","p-2","mb-2"],["mat-card-avatar","",1,"p-3"],["aria-hidden","false",1,"icon-2x"],[1,"text-white"],[1,"m-3",3,"formGroup","ngSubmit"],["type","hidden","formControlName","id"],[1,"col-12"],["formControlName","phone","matInput","","placeholder","Tel\xe9fono","required",""],["formControlName","email","matInput","","placeholder","Email","required",""],["formControlName","address","matInput","","placeholder","Direcci\xf3n","required",""],["formControlName","facebook","matInput","","placeholder","Facebook","required",""],["formControlName","twitter","matInput","","placeholder","Twitter","required",""],[1,"d-flex","justify-content-end"],["color","primary","type","submit",1,"btn","btn-info","waves-effect","waves-light","d-none","d-sm-inline-flex",3,"disabled"]],template:function(e,t){1&e&&(p.Wb(0,"div",0),p.Wb(1,"div",1),p.Wb(2,"div",2),p.Wb(3,"div",3),p.Wb(4,"mat-card",4),p.Wb(5,"mat-card-header",5),p.Wb(6,"div",6),p.Wb(7,"mat-icon",7),p.Gc(8,"home"),p.Vb(),p.Vb(),p.Wb(9,"mat-card-title"),p.Gc(10,"Generales"),p.Vb(),p.Wb(11,"mat-card-subtitle",8),p.Gc(12,"Ajustes de la p\xe1gina inicial"),p.Vb(),p.Vb(),p.Wb(13,"mat-card-content"),p.Wb(14,"form",9),p.ec("ngSubmit",(function(){return t.onSubmit()})),p.Rb(15,"input",10),p.Wb(16,"div",0),p.Wb(17,"div",11),p.Wb(18,"mat-form-field"),p.Rb(19,"input",12),p.Wb(20,"mat-error"),p.Gc(21,"requerido"),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Wb(22,"div",0),p.Wb(23,"div",11),p.Wb(24,"mat-form-field"),p.Rb(25,"input",13),p.Wb(26,"mat-error"),p.Gc(27,"requerido"),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Wb(28,"div",0),p.Wb(29,"div",11),p.Wb(30,"mat-form-field"),p.Rb(31,"input",14),p.Wb(32,"mat-error"),p.Gc(33,"requerido"),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Wb(34,"div",0),p.Wb(35,"div",11),p.Wb(36,"mat-form-field"),p.Rb(37,"input",15),p.Wb(38,"mat-error"),p.Gc(39,"requerido"),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Wb(40,"div",0),p.Wb(41,"div",11),p.Wb(42,"mat-form-field"),p.Rb(43,"input",16),p.Wb(44,"mat-error"),p.Gc(45,"requerido"),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Wb(46,"div",17),p.Wb(47,"button",18),p.Wb(48,"mat-icon"),p.Gc(49,"save"),p.Vb(),p.Gc(50," Guardar "),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Vb(),p.Vb()),2&e&&(p.Db(14),p.qc("formGroup",t.form),p.Db(33),p.qc("disabled",t.form.invalid))},directives:[W.a,W.d,W.b,v.a,W.g,W.f,W.c,i.v,i.o,i.h,i.c,i.n,i.f,g.c,w.b,i.t,g.b],styles:[""]}),e})(),canActivateChild:[b.j],data:{titulo:"Ajustes Generales"}}];let G=(()=>{class e{}return e.\u0275mod=p.Ob({type:e}),e.\u0275inj=p.Nb({factory:function(t){return new(t||e)},imports:[[a.g.forChild(q)],a.g]}),e})();var y=r("j1ZV");let S=(()=>{class e{}return e.\u0275mod=p.Ob({type:e}),e.\u0275inj=p.Nb({factory:function(t){return new(t||e)},providers:[V],imports:[[o.c,y.a,n.a,i.i,i.s,G]]}),e})()}}]);